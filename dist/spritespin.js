!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){const n=i(2);t.exports=class{constructor(t){this.options=t,this.frames={},this.start=!1,this.mspf=24,this.framesLoaded=0,this.framesCount=this.options.frames[1]-this.options.frames[0]+1,this.anglePerFrame=2*Math.PI/(this.options.frames[1]+1-this.options.frames[0]),this.load=new n(this),this.framechange=new n(this),this.panstart=new n(this),this.panend=new n(this),this.pan=new n(this),this.init()}on(t,e){if(!this[t])throw new Error('No such event "'+t+'"');this[t].attach((t,i)=>{e(i)})}init(){for(var t=this.options.frames[0];t<=this.options.frames[1];t++)this.createImage(t);this.addEventListeners(),this.setFrame(this.options.start?this.options.start:this.options.frames[0])}createImage(t){var e=(parseInt("1"+"0".repeat(this.options.digits))+t).toString().substring(1),i=this.options.path.replace("{frame}",e),n=document.createElement("img");n.classList.add("spin-img"),n.setAttribute("data-frame",t),n.setAttribute("draggable",!1),n.onload=()=>{this.framesLoaded++,this.framesLoaded==this.framesCount&&this.load.notify({})},this.options.container.appendChild(n),n.src=i,this.frames[t]=n}setFrame(t){t=this.validateFrame(t),null!=this.currentFrame&&this.frames[this.currentFrame].classList.remove("active"),this.frames[t].classList.add("active");var e=this.currentFrame!=t;this.currentFrame=t,e&&this.framechange.notify(t)}addEventListeners(){return"Hammer"==this.options.panHandler&&null!=Hammer?this.addHammerEventListeners():this.addNativeEventListeners()}addHammerEventListeners(){this.mc=new Hammer(this.options.container,{direction:Hammer.DIRECTION_ALL}),this.mc.get("pan").set({direction:Hammer.DIRECTION_ALL}),this.mc.on("panstart panend panleft panright",t=>{this.handlePanHammer(t)})}addNativeEventListeners(){this.options.container.addEventListener("mousedown",t=>{this.moveStart(this.getContainerWidth()-t.x,t.y)}),this.options.container.addEventListener("mousemove",t=>{this.move(t.x,t.y)}),this.options.container.addEventListener("mouseup",t=>{this.moveEnd()}),this.options.container.addEventListener("touchstart",t=>{this.moveStart(this.getContainerWidth()-t.changedTouches[0].screenX,t.changedTouches[0].screenY)}),this.options.container.addEventListener("touchmove",t=>{this.move(t.changedTouches[0].screenX,t.changedTouches[0].screenY)}),this.options.container.addEventListener("touchend",t=>{this.moveEnd()})}handlePanHammer(t){"panstart"==t.type?this.moveStart(this.getContainerWidth()-t.center.x,t.center.y):"panend"==t.type?this.moveEnd():this.move(t.center.x,t.center.y)}moveStart(t,e){this.start={x:t,y:e},this.startFrame=this.currentFrame,this.panstart.notify(this.currentFrame)}moveEnd(){this.start=!1,this.options.anchors&&this.flyToNearestAnchor(),this.panend.notify(this.currentFrame)}move(t,e){if(this.start){var i=Math.ceil(.1*parseFloat(this.options.sensitivity)*(this.getContainerWidth()-t-this.start.x)),n=this.startFrame-i;this.pan.notify(n),this.setFrame(n)}}getContainerWidth(){return this.options.container.getBoundingClientRect().width}validateFrame(t){return t<this.options.frames[0]&&(t=this.options.frames[0]+this.options.frames[1]+1+t),t>this.options.frames[1]&&(t=this.options.frames[0]+t-this.options.frames[1]-1),t}flyTo(t,e){var i=(t=this.validateFrame(t))-this.currentFrame;e||(e=Math.sign(Math.sin(i*this.anglePerFrame))),this.animate(()=>{if(this.currentFrame==t)return this.stopAnimation(),!1;this.setFrame(this.currentFrame+e)},1/this.mspf)}flyToNearestAnchor(){if(!this.options.anchors)return!1;for(var t,e=this.anglePerFrame*this.currentFrame,i=2*Math.PI,n=0;n<this.options.anchors.length;n++){var s=this.anglePerFrame*this.options.anchors[n],r=Math.abs(s-e);r<i&&(i=r,t=this.options.anchors[n])}return this.flyTo(t)}animate(t,e){if(!this.interval){this.isRunning=!0;var i=(new Date).getTime();let n=()=>{return(new Date).getTime()-i>=e&&(t.call(),i=(new Date).getTime()),this.isRunning?requestAnimationFrame(n):cancelAnimationFrame(this.interval)};this.interval=n()}}stopAnimation(){this.isRunning=!1,this.interval=!1}lock(){this.options.container.classList.add("locked")}unlock(){this.options.container.classList.remove("locked")}}},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,window.draf=function(t){return requestAnimationFrame(function(){requestAnimationFrame(t)})},window.SpriteSpin=s.a},function(t,e){t.exports=class{constructor(t){this._sender=t,this._listeners=[]}attach(t){this._listeners.push(t)}notify(t){var e;for(e=0;e<this._listeners.length;e+=1)this._listeners[e](this._sender,t)}}}]);